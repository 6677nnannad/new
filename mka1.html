<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WenYan</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Noto+Sans+SC:wght@300;400;700&family=Noto+Sans+KR:wght@300;400;700&family=Noto+Sans+JP:wght@300;400;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Sans SC', sans-serif;
            overflow-x: hidden;
            background: linear-gradient(135deg, rgba(255,182,193,0.3), rgba(173,216,230,0.3));
            min-height: 200vh;
        }
        
        /* ÂêØÂä®ÁîªÈù¢ */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #ff69b4, #87ceeb, #dda0dd);
            background-size: 400% 400%;
            animation: gradientShift 3s ease-in-out infinite;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            transition: opacity 0.8s ease-out;
        }
        
        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .heart-loader {
            width: 100px;
            height: 100px;
            position: relative;
            animation: heartbeat 1.5s ease-in-out infinite;
        }
        
        .heart-loader::before,
        .heart-loader::after {
            content: '';
            width: 52px;
            height: 40px;
            position: absolute;
            left: 50px;
            top: 0;
            background: #ff1744;
            border-radius: 25px 25px 0 0;
            transform: rotate(-45deg);
            transform-origin: 0 100%;
        }
        
        .heart-loader::after {
            left: 0;
            transform: rotate(45deg);
            transform-origin: 100% 100%;
        }
        
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        
        /* ËÉåÊôØÂíåÂøÉÂΩ¢ÁâπÊïà */
        .background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('https://s21.ax1x.com/2025/08/26/pVyoUud.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            z-index: -2;
        }
        
        .background::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.3);
            z-index: 1;
        }
        
        .hearts-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }
        
        .floating-heart {
            position: absolute;
            color: rgba(255,182,193,0.7);
            animation: float 8s linear infinite;
            font-size: 20px;
        }
        
        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }
        
        /* ‰∏ªÂÆπÂô® */
        .main-container {
            opacity: 0;
            transition: opacity 1s ease-in;
            min-height: 100vh;
            position: relative;
            z-index: 1;
        }
        
        /* È°∂ÈÉ®ÂøÉÂΩ¢ */
        .top-heart {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: #ff1744;
            font-size: 30px;
            z-index: 100;
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: translateX(-50%) scale(1); }
            50% { transform: translateX(-50%) scale(1.1); }
        }
        
        /* Êó∂Èó¥ÊòæÁ§∫ */
        .time-display {
            position: fixed;
            top: 15px;
            left: 20px;
            color: rgba(255,255,255,0.9);
            font-size: 14px;
            font-weight: 300;
            z-index: 100;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
            font-family: 'Dancing Script', cursive;
        }
        
        /* Êó∂Èó¥‰∏ãÊñπÂõæÁâá */
        .time-image {
            position: fixed;
            top: 45px;
            left: 20px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 2px solid rgba(255,255,255,0.3);
            z-index: 100;
            transition: transform 0.3s ease;
        }
        
        .time-image:hover {
            transform: scale(1.1);
        }
        
        /* ÂÆùËóèÈìæÊé• */
        .treasure-link {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(45deg, #ff6b6b, #ffd93d);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            z-index: 100;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .treasure-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }
        
        /* ÂØÜÁ†ÅÂºπÁ™ó */
        .password-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 10000;
            justify-content: center;
            align-items: center;
        }
        
        .password-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            color: white;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            transform: scale(0);
            transition: transform 0.3s ease;
        }
        
        .password-modal.show .password-content {
            transform: scale(1);
        }
        
        .password-input {
            margin: 20px 0;
            padding: 12px 20px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            text-align: center;
            outline: none;
            width: 200px;
        }
        
        .password-btn {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            margin: 0 10px;
            transition: background 0.3s ease;
        }
        
        .password-btn:hover {
            background: #ff5252;
        }
        
        /* Áõ∏ÂÜåÂÆπÂô® */
        .album-container {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
            position: relative;
        }
        
        .album-wrapper {
            position: relative;
            max-width: 800px;
            width: 90%;
            aspect-ratio: 4/3;
        }
        
        .album-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            transition: all 0.8s ease;
            filter: blur(0px);
        }
        
        .album-image.blur {
            filter: blur(10px);
            transform: scale(0.95);
        }
        
        /* ÂØºËà™ÊåâÈíÆ */
        .nav-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255,255,255,0.9);
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
            display: none;
        }
        
        .nav-btn:hover {
            background: white;
            transform: translateY(-50%) scale(1.1);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .nav-btn.prev {
            left: -80px;
        }
        
        .nav-btn.next {
            right: -80px;
        }
        
        @media (min-width: 768px) {
            .nav-btn {
                display: block;
            }
        }
        
        /* ÊñáÊ°àÊòæÁ§∫ */
        .quote-container {
            position: absolute;
            top: -120px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            width: 100%;
            max-width: 600px;
        }
        
        .quote-text {
            font-size: 24px;
            font-weight: 400;
            margin-bottom: 10px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s ease;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .quote-text.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        .quote-translation {
            font-size: 16px;
            color: rgba(255,255,255,0.8);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s ease 0.2s;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        
        .quote-translation.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Â∫ïÈÉ®Êéß‰ª∂ */
        .bottom-controls {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 100;
        }
        
        .bottom-text {
            color: #87ceeb;
            font-size: 14px;
            margin-bottom: 15px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        
        .music-control {
            background: rgba(255,255,255,0.2);
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            color: white;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .music-control:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.1);
        }
        
        .music-control.clicked {
            animation: clickFeedback 0.3s ease;
        }
        
        @keyframes clickFeedback {
            0% { transform: scale(1); }
            50% { transform: scale(0.9); }
            100% { transform: scale(1); }
        }
        
        /* ÈöèÊú∫ÊñáÊ°à */
        .floating-quote {
            position: absolute;
            color: rgba(255,255,255,0.9);
            font-size: 18px;
            font-weight: 300;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
            opacity: 0;
            transform: scale(0.8);
            transition: all 0.8s ease;
            pointer-events: none;
            z-index: 50;
            max-width: 300px;
            text-align: center;
        }
        
        .floating-quote.show {
            opacity: 1;
            transform: scale(1);
        }
        
        /* Ëß¶Êë∏ÊâãÂäø */
        .touch-area {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 5;
        }
        
        /* ÂìçÂ∫îÂºèËÆæËÆ° */
        @media (max-width: 768px) {
            .album-wrapper {
                width: 95%;
            }
            
            .quote-container {
                top: -100px;
            }
            
            .quote-text {
                font-size: 20px;
            }
            
            .quote-translation {
                font-size: 14px;
            }
            
            .time-display {
                font-size: 12px;
            }
            
            .time-image {
                width: 45px;
                height: 45px;
                top: 35px;
            }
            
            .treasure-link {
                font-size: 12px;
                padding: 6px 12px;
            }
        }
        
        /* È¢ùÂ§ñÁöÑÊµ™Êº´ÂÖÉÁ¥† */
        .sparkle {
            position: absolute;
            color: rgba(255,215,0,0.8);
            font-size: 12px;
            animation: sparkle 2s linear infinite;
            pointer-events: none;
        }
        
        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0) rotate(0deg); }
            50% { opacity: 1; transform: scale(1) rotate(180deg); }
        }
        
        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- ÂêØÂä®ÁîªÈù¢ -->
    <div class="loading-screen" id="loadingScreen">
        <div class="heart-loader"></div>
    </div>
    
    <!-- ËÉåÊôØ -->
    <div class="background"></div>
    <div class="hearts-container" id="heartsContainer"></div>
    
    <!-- ‰∏ªÂÆπÂô® -->
    <div class="main-container" id="mainContainer">
        <!-- È°∂ÈÉ®ÂøÉÂΩ¢ -->
        <div class="top-heart">üíñ</div>
        
        <!-- Êó∂Èó¥ÊòæÁ§∫ -->
        <div class="time-display" id="timeDisplay"></div>
        <img src="https://pic.itxiaohui.top/20250827/b00b951e795e57ff62378a1f13310d77.png" alt="Ë£ÖÈ•∞ÂõæÁâá" class="time-image">
        
        <!-- ÂÆùËóèÈìæÊé• -->
        <a href="#" class="treasure-link" id="treasureLink">ÂÆùËóè</a>
        
        <!-- ÂØÜÁ†ÅÂºπÁ™ó -->
        <div class="password-modal" id="passwordModal">
            <div class="password-content">
                <h3>Á≠îÂØπÂØÜÁ†ÅÊúâÊÉäÂñú ‚ú®</h3>
                <input type="password" class="password-input" id="passwordInput" placeholder="ËØ∑ËæìÂÖ•ÂØÜÁ†Å">
                <br>
                <button class="password-btn" onclick="checkPassword()">Á°ÆËÆ§</button>
                <button class="password-btn" onclick="closeModal()">ÂèñÊ∂à</button>
            </div>
        </div>
        
        <!-- Áõ∏ÂÜåÂÆπÂô® -->
        <div class="album-container">
            <div class="album-wrapper">
                <div class="quote-container">
                    <div class="quote-text" id="quoteText"></div>
                    <div class="quote-translation" id="quoteTranslation"></div>
                </div>
                
                <img src="" alt="Áõ∏ÂÜåÂõæÁâá" class="album-image" id="albumImage">
                <div class="touch-area" id="touchArea"></div>
                
                <button class="nav-btn prev" id="prevBtn">‚Äπ</button>
                <button class="nav-btn next" id="nextBtn">‚Ä∫</button>
            </div>
        </div>
        
        <!-- Â∫ïÈÉ®Êéß‰ª∂ -->
        <div class="bottom-controls">
            <div class="bottom-text">ÂøÉÊØîÈïøÁõ∏Â•ΩÔºåÊáÇÊØîÁà±ÈáçË¶Å</div>
            <button class="music-control" id="musicControl">üéµ</button>
        </div>
    </div>
    
    <!-- Èü≥È¢ë -->
    <audio id="backgroundMusic" loop>
        <source src="https://raw.githubusercontent.com/6677nnannad/my-wenb-music/refs/heads/main/haru%20haru.mp3" type="audio/mpeg">
    </audio>
    
    <script>
        // ÂõæÁâáÊï∞ÁªÑ
        const images = [
            'https://s21.ax1x.com/2025/08/26/pVyoG9O.jpg',
            'https://s21.ax1x.com/2025/08/26/pVyoT8U.jpg',
            'https://s21.ax1x.com/2025/08/26/pVyo72F.jpg',
            'https://s21.ax1x.com/2025/08/26/pVyoHv4.jpg',
            'https://s21.ax1x.com/2025/08/26/pVyoqKJ.jpg',
            'https://s21.ax1x.com/2025/08/26/pVyoLr9.jpg',
            'https://s21.ax1x.com/2025/08/26/pVyoObR.jpg',
            'https://pic.itxiaohui.top/20250826/7d87ea90f93391070a74c60562e37d24.jpg',
            'https://pic.itxiaohui.top/20250826/75ab2fbb9b0c32d304a2048d755313f0.jpg',
            'https://pic.itxiaohui.top/20250826/1ac4f123d972adbc6397892176d7f955.jpg',
            'https://pic.itxiaohui.top/20250826/cd61b4b4712ef9afb3ae71965b3e7cb0.jpg',
            'https://pic.itxiaohui.top/20250826/b5cee1a7f10b1503dc5b7ec7c158fa2c.jpg',
            'https://pic.itxiaohui.top/20250826/b8940c81fe3d6b2500926609e98d4a70.jpg',
            'https://pic.itxiaohui.top/20250826/b049ffdfe00f7cf4c5db9bc5e260a194.jpg',
            'https://pic.itxiaohui.top/20250826/bd37208fdad5f3e800eed2017e767a78.jpg',
            'https://pic.itxiaohui.top/20250826/dd289be3bff468a132d153e4732f8a06.jpg'
        ];
        
        // ÊñáÊ°àÊï∞ÁªÑ
        const quotes = [
            {text: "The heart wants what it wants", translation: "ÂøÉ‰πãÊâÄÂêëÔºåÊó†ÊâÄ‰∏çËÉΩ", font: "Dancing Script", color: "#ff69b4"},
            {text: "ÏÇ¨ÎûëÏùÄ Î™®Îì† Í≤ÉÏùÑ Ïö©ÏÑúÌïúÎã§", translation: "Áà±ËÉΩÂÆΩÊÅï‰∏ÄÂàá", font: "Noto Sans KR", color: "#87ceeb"},
            {text: "ÂøÉ„ÅÆÂ••Â∫ï„ÅßÊÑõ„Åó„Å¶„ÅÑ„Çã", translation: "Âú®ÂøÉÁÅµÊ∑±Â§ÑÁà±ÁùÄ", font: "Noto Sans JP", color: "#dda0dd"},
            {text: "Sometimes the heart sees what is invisible to the eye", translation: "ÊúâÊó∂ÂøÉËÉΩÁúãËßÅÁúºÁùõÁúã‰∏çÂà∞ÁöÑ‰∏úË•ø", font: "Dancing Script", color: "#ff6347"},
            {text: "Í∑∏Î¶¨ÏõÄÏùÄ Í∞ÄÏû• Í∏¥ Í±∞Î¶¨Îã§", translation: "ÊÄùÂøµÊòØÊúÄÈÅ•ËøúÁöÑË∑ùÁ¶ª", font: "Noto Sans KR", color: "#98fb98"},
            {text: "ÊÑõ„ÅØÊôÇÈñì„ÇíË∂Ö„Åà„Çã", translation: "Áà±ËÉΩË∂ÖË∂äÊó∂Èó¥", font: "Noto Sans JP", color: "#ffa07a"},
            {text: "Love is not finding someone to live with, it's finding someone you can't live without", translation: "Áà±‰∏çÊòØÊâæÂà∞‰∏Ä‰∏™ÂèØ‰ª•ÂÖ±Â∫¶‰∏ÄÁîüÁöÑ‰∫∫ÔºåËÄåÊòØÊâæÂà∞‰∏Ä‰∏™Ê≤°ÊúâtaÂ∞±Êó†Ê≥ïÁîüÊ¥ªÁöÑ‰∫∫", font: "Dancing Script", color: "#da70d6"},
            {text: "ÎÇ¥ ÎßàÏùåÏÜçÏóê ÎÑàÎßåÏù¥ ÏûàÎã§", translation: "ÊàëÂøÉ‰∏≠Âè™Êúâ‰Ω†", font: "Noto Sans KR", color: "#40e0d0"},
            {text: "Âêõ„Å∏„ÅÆÊÉ≥„ÅÑ„ÅØÊ∞∏ÈÅ†„Å´", translation: "ÂØπ‰Ω†ÁöÑÊÄùÂøµÊòØÊ∞∏ÊÅíÁöÑ", font: "Noto Sans JP", color: "#ff1493"},
            {text: "In your eyes, I found my home", translation: "Âú®‰Ω†ÁöÑÁúº‰∏≠ÔºåÊàëÊâæÂà∞‰∫ÜÂÆ∂", font: "Dancing Script", color: "#ffd700"}
        ];
        
        // ÈöèÊú∫Êµ™Êº´ÊñáÊ°à
        const floatingQuotes = [
            {text: "Love is in the air", font: "Dancing Script", color: "#ff69b4"},
            {text: "Forever yours", font: "Dancing Script", color: "#87ceeb"},
            {text: "ÎßàÏùåÏù¥ ÏÑ§Î†åÎã§", font: "Noto Sans KR", color: "#dda0dd"},
            {text: "ÊÑõ„Åó„Å¶„Çã", font: "Noto Sans JP", color: "#ff6347"},
            {text: "You are my sunshine", font: "Dancing Script", color: "#ffd700"},
            {text: "ÍΩÉÎ≥¥Îã§ ÏïÑÎ¶ÑÎã§Ïö¥ ÎÑà", font: "Noto Sans KR", color: "#98fb98"},
            {text: "Âêõ„ÅåÂ•Ω„Åç", font: "Noto Sans JP", color: "#ffa07a"},
            {text: "My heart belongs to you", font: "Dancing Script", color: "#da70d6"},
            {text: "ÏÇ¨ÎûëÌï¥", font: "Noto Sans KR", color: "#40e0d0"},
            {text: "Ê∞∏ÈÅ†„Å´‰∏ÄÁ∑í", font: "Noto Sans JP", color: "#ff1493"}
        ];
        
        let currentImageIndex = 0;
        let isChanging = false;
        let usedQuotes = [];
        let usedFloatingQuotes = [];
        let music = document.getElementById('backgroundMusic');
        let isPlaying = false;
        
        // ÂàùÂßãÂåñ
        document.addEventListener('DOMContentLoaded', function() {
            // 3ÁßíÂêéËøõÂÖ•‰∏ªÈ°µÈù¢
            setTimeout(() => {
                document.getElementById('loadingScreen').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('loadingScreen').style.display = 'none';
                    document.getElementById('mainContainer').style.opacity = '1';
                    startMusic();
                }, 800);
            }, 3000);
            
            // ÂàùÂßãÂåñÁõ∏ÂÜå
            initAlbum();
            
            // ÂºÄÂßãÂøÉÂΩ¢ÁâπÊïà
            createHearts();
            setInterval(createHearts, 2000);
            
            // Êõ¥Êñ∞Êó∂Èó¥
            updateTime();
            setInterval(updateTime, 1000);
            
            // ÂºÄÂßãÂõæÁâáËΩÆÊí≠
            setTimeout(() => {
                setInterval(nextImage, 4000);
            }, 4000);
            
            // ÂºÄÂßãÈöèÊú∫ÊñáÊ°à
            setTimeout(() => {
                showFloatingQuote();
                setInterval(showFloatingQuote, 4000);
            }, 2000);
            
            // ÁªëÂÆö‰∫ã‰ª∂
            bindEvents();
        });
        
        // ÂàùÂßãÂåñÁõ∏ÂÜå
        function initAlbum() {
            const albumImage = document.getElementById('albumImage');
            albumImage.src = images[0];
            showQuote();
        }
        
        // ÂºÄÂßãÈü≥‰πêÊí≠Êîæ
        function startMusic() {
            music.play().then(() => {
                isPlaying = true;
            }).catch(e => {
                console.log('Èü≥‰πêËá™Âä®Êí≠ÊîæË¢´ÈòªÊ≠¢');
            });
        }
        
        // ÂàáÊç¢Âà∞‰∏ã‰∏ÄÂº†ÂõæÁâá
        function nextImage() {
            if (isChanging) return;
            
            isChanging = true;
            const albumImage = document.getElementById('albumImage');
            
            // Ê®°Á≥äÊïàÊûú
            albumImage.classList.add('blur');
            
            setTimeout(() => {
                currentImageIndex = (currentImageIndex + 1) % images.length;
                albumImage.src = images[currentImageIndex];
                showQuote();
                
                setTimeout(() => {
                    albumImage.classList.remove('blur');
                    isChanging = false;
                }, 100);
            }, 400);
        }
        
        // ÂàáÊç¢Âà∞‰∏ä‰∏ÄÂº†ÂõæÁâá
        function prevImage() {
            if (isChanging) return;
            
            isChanging = true;
            const albumImage = document.getElementById('albumImage');
            
            albumImage.classList.add('blur');
            
            setTimeout(() => {
                currentImageIndex = currentImageIndex === 0 ? images.length - 1 : currentImageIndex - 1;
                albumImage.src = images[currentImageIndex];
                showQuote();
                
                setTimeout(() => {
                    albumImage.classList.remove('blur');
                    isChanging = false;
                }, 100);
            }, 400);
        }
        
        // ÊòæÁ§∫ÊñáÊ°à
        function showQuote() {
            if (usedQuotes.length === quotes.length) {
                usedQuotes = [];
            }
            
            let availableQuotes = quotes.filter(q => !usedQuotes.includes(q));
            let selectedQuote = availableQuotes[Math.floor(Math.random() * availableQuotes.length)];
            usedQuotes.push(selectedQuote);
            
            const quoteText = document.getElementById('quoteText');
            const quoteTranslation = document.getElementById('quoteTranslation');
            
            // ÈöêËóèÊóßÊñáÊ°à
            quoteText.classList.remove('show');
            quoteTranslation.classList.remove('show');
            
            setTimeout(() => {
                quoteText.textContent = selectedQuote.text;
                quoteText.style.fontFamily = selectedQuote.font;
                quoteText.style.color = selectedQuote.color;
                
                quoteTranslation.textContent = selectedQuote.translation;
                
                // ÊòæÁ§∫Êñ∞ÊñáÊ°à
                quoteText.classList.add('show');
                quoteTranslation.classList.add('show');
            }, 400);
        }
        
        // ÊòæÁ§∫ÈöèÊú∫ÊµÆÂä®ÊñáÊ°à
        function showFloatingQuote() {
            if (usedFloatingQuotes.length === floatingQuotes.length) {
                usedFloatingQuotes = [];
            }
            
            let availableQuotes = floatingQuotes.filter(q => !usedFloatingQuotes.includes(q));
            let selectedQuote = availableQuotes[Math.floor(Math.random() * availableQuotes.length)];
            usedFloatingQuotes.push(selectedQuote);
            
            const floatingQuote = document.createElement('div');
            floatingQuote.className = 'floating-quote';
            floatingQuote.textContent = selectedQuote.text;
            floatingQuote.style.fontFamily = selectedQuote.font;
            floatingQuote.style.color = selectedQuote.color;
            
            // ÈöèÊú∫‰ΩçÁΩÆ
            const positions = [
                {top: '20%', left: '10%'},
                {top: '30%', right: '15%'},
                {top: '70%', left: '5%'},
                {top: '60%', right: '10%'},
                {top: '80%', left: '60%'},
                {top: '15%', right: '40%'}
            ];
            
            const position = positions[Math.floor(Math.random() * positions.length)];
            Object.assign(floatingQuote.style, position);
            
            document.body.appendChild(floatingQuote);
            
            // ÊòæÁ§∫Âä®Áîª
            setTimeout(() => {
                floatingQuote.classList.add('show');
            }, 100);
            
            // ÂàõÂª∫ÊòüÂÖâÊïàÊûú
            createSparkles(floatingQuote);
            
            // 3ÁßíÂêéÊ∂àÂ§±
            setTimeout(() => {
                floatingQuote.classList.remove('show');
                setTimeout(() => {
                    if (floatingQuote.parentNode) {
                        floatingQuote.parentNode.removeChild(floatingQuote);
                    }
                }, 800);
            }, 3000);
        }
        
        // ÂàõÂª∫ÊòüÂÖâÊïàÊûú
        function createSparkles(element) {
            for (let i = 0; i < 3; i++) {
                setTimeout(() => {
                    const sparkle = document.createElement('div');
                    sparkle.className = 'sparkle';
                    sparkle.textContent = '‚ú®';
                    sparkle.style.position = 'absolute';
                    sparkle.style.top = Math.random() * 100 + '%';
                    sparkle.style.left = Math.random() * 100 + '%';
                    element.appendChild(sparkle);
                    
                    setTimeout(() => {
                        if (sparkle.parentNode) {
                            sparkle.parentNode.removeChild(sparkle);
                        }
                    }, 2000);
                }, i * 500);
            }
        }
        
        // ÂàõÂª∫ÂøÉÂΩ¢ÁâπÊïà
        function createHearts() {
            const heartsContainer = document.getElementById('heartsContainer');
            const heart = document.createElement('div');
            heart.className = 'floating-heart';
            heart.innerHTML = ['üíñ', 'üíï', 'üíó', 'üíù'][Math.floor(Math.random() * 4)];
            heart.style.left = Math.random() * 100 + '%';
            heart.style.animationDuration = (Math.random() * 3 + 5) + 's';
            
            heartsContainer.appendChild(heart);
            
            setTimeout(() => {
                if (heart.parentNode) {
                    heart.parentNode.removeChild(heart);
                }
            }, 8000);
        }
        
        // Êõ¥Êñ∞Êó∂Èó¥
        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleString('zh-CN', {
                timeZone: 'Asia/Shanghai',
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });
            document.getElementById('timeDisplay').textContent = timeString;
        }
        
        // ÁªëÂÆö‰∫ã‰ª∂
        function bindEvents() {
            // ÂØºËà™ÊåâÈíÆ
            document.getElementById('nextBtn').addEventListener('click', nextImage);
            document.getElementById('prevBtn').addEventListener('click', prevImage);
            
            // Èü≥‰πêÊéßÂà∂
            document.getElementById('musicControl').addEventListener('click', function() {
                this.classList.add('clicked');
                setTimeout(() => {
                    this.classList.remove('clicked');
                }, 300);
                
                if (isPlaying) {
                    music.pause();
                    isPlaying = false;
                } else {
                    music.play();
                    isPlaying = true;
                }
            });
            
            // Ëß¶Êë∏ÊâãÂäø
            let startX = 0;
            let endX = 0;
            
            const touchArea = document.getElementById('touchArea');
            
            touchArea.addEventListener('touchstart', function(e) {
                startX = e.touches[0].clientX;
            });
            
            touchArea.addEventListener('touchend', function(e) {
                endX = e.changedTouches[0].clientX;
                handleSwipe();
            });
            
            function handleSwipe() {
                const difference = startX - endX;
                const threshold = 50;
                
                if (Math.abs(difference) > threshold) {
                    if (difference > 0) {
                        nextImage(); // ÂêëÂ∑¶ÊªëÂä®ÔºåÊòæÁ§∫‰∏ã‰∏ÄÂº†
                    } else {
                        prevImage(); // ÂêëÂè≥ÊªëÂä®ÔºåÊòæÁ§∫‰∏ä‰∏ÄÂº†
                    }
                }
            }
            
            // ÂÆùËóèÈìæÊé•
            document.getElementById('treasureLink').addEventListener('click', function(e) {
                e.preventDefault();
                showPasswordModal();
            });
        }
        
        // ÊòæÁ§∫ÂØÜÁ†ÅÂºπÁ™ó
        function showPasswordModal() {
            const modal = document.getElementById('passwordModal');
            modal.style.display = 'flex';
            setTimeout(() => {
                modal.classList.add('show');
            }, 10);
            
            document.getElementById('passwordInput').focus();
        }
        
        // ÂÖ≥Èó≠ÂºπÁ™ó
        function closeModal() {
            const modal = document.getElementById('passwordModal');
            modal.classList.remove('show');
            setTimeout(() => {
                modal.style.display = 'none';
            }, 300);
            
            document.getElementById('passwordInput').value = '';
        }
        
        // Ê£ÄÊü•ÂØÜÁ†Å
        function checkPassword() {
            const password = document.getElementById('passwordInput').value;
            if (password === '0809') {
                closeModal();
                // ÂàõÂª∫ËßÜÈ¢ëÂºπÁ™ó
                createVideoModal();
            } else {
                alert('ÂØÜÁ†ÅÈîôËØØÔºåËØ∑ÈáçËØïÔºÅ');
                document.getElementById('passwordInput').value = '';
                document.getElementById('passwordInput').focus();
            }
        }
        
        // ÂàõÂª∫ËßÜÈ¢ëÂºπÁ™ó
        function createVideoModal() {
            const videoModal = document.createElement('div');
            videoModal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.9);
                z-index: 10001;
                display: flex;
                justify-content: center;
                align-items: center;
                animation: fadeIn 0.5s ease;
            `;
            
            const videoContainer = document.createElement('div');
            videoContainer.style.cssText = `
                position: relative;
                max-width: 90%;
                max-height: 90%;
                background: #000;
                border-radius: 20px;
                overflow: hidden;
                box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            `;
            
            const video = document.createElement('video');
            video.style.cssText = `
                width: 100%;
                height: 100%;
                display: block;
            `;
            video.controls = true;
            video.autoplay = true;
            video.src = 'https://raw.githubusercontent.com/6677nnannad/my-wenb-music/refs/heads/main/%E4%BD%A0%E8%A2%AB%E9%AA%97%E4%BA%86%20%E5%8E%9F%E7%89%88%E9%AB%98%E6%B8%85%E6%97%A0%E6%B0%B4%E5%8D%B0.mp4';
            
            const closeBtn = document.createElement('button');
            closeBtn.innerHTML = '√ó';
            closeBtn.style.cssText = `
                position: absolute;
                top: 10px;
                right: 15px;
                background: rgba(255,255,255,0.8);
                border: none;
                width: 40px;
                height: 40px;
                border-radius: 50%;
                font-size: 24px;
                font-weight: bold;
                cursor: pointer;
                z-index: 10002;
                transition: background 0.3s ease;
            `;
            
            closeBtn.addEventListener('click', () => {
                document.body.removeChild(videoModal);
            });
            
            closeBtn.addEventListener('mouseenter', () => {
                closeBtn.style.background = 'rgba(255,255,255,1)';
            });
            
            closeBtn.addEventListener('mouseleave', () => {
                closeBtn.style.background = 'rgba(255,255,255,0.8)';
            });
            
            videoContainer.appendChild(video);
            videoContainer.appendChild(closeBtn);
            videoModal.appendChild(videoContainer);
            
            // ÁÇπÂáªËÉåÊôØÂÖ≥Èó≠
            videoModal.addEventListener('click', (e) => {
                if (e.target === videoModal) {
                    document.body.removeChild(videoModal);
                }
            });
            
            document.body.appendChild(videoModal);
        }
        
        // ÈîÆÁõò‰∫ã‰ª∂
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowLeft') {
                prevImage();
            } else if (e.key === 'ArrowRight') {
                nextImage();
            } else if (e.key === ' ') {
                e.preventDefault();
                document.getElementById('musicControl').click();
            } else if (e.key === 'Escape') {
                closeModal();
            }
        });
        
        // ÂØÜÁ†ÅËæìÂÖ•Ê°ÜÂõûËΩ¶‰∫ã‰ª∂
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && document.getElementById('passwordModal').style.display === 'flex') {
                checkPassword();
            }
        });
        
        // È¢ÑÂä†ËΩΩÂõæÁâá
        function preloadImages() {
            images.forEach((src, index) => {
                if (index > 0) { // Á¨¨‰∏ÄÂº†Â∑≤ÁªèÂä†ËΩΩ
                    const img = new Image();
                    img.src = src;
                }
            });
        }
        
        // È°µÈù¢Âä†ËΩΩÂÆåÊàêÂêéÈ¢ÑÂä†ËΩΩÂõæÁâá
        window.addEventListener('load', preloadImages);
        
        // Ê∑ªÂä†CSSÂä®Áîª
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeIn {
                from { opacity: 0; }
                to { opacity: 1; }
            }
            
            .floating-quote:nth-child(odd) {
                animation-delay: 0.5s;
            }
            
            .floating-quote:nth-child(even) {
                animation-delay: 1s;
            }
            
            /* ÊªöÂä®Êù°ÁæéÂåñ */
            ::-webkit-scrollbar {
                width: 8px;
            }
            
            ::-webkit-scrollbar-track {
                background: rgba(255,255,255,0.1);
                border-radius: 10px;
            }
            
            ::-webkit-scrollbar-thumb {
                background: rgba(255,182,193,0.6);
                border-radius: 10px;
            }
            
            ::-webkit-scrollbar-thumb:hover {
                background: rgba(255,182,193,0.8);
            }
            
            /* È¢ùÂ§ñÁöÑÊµ™Êº´ÂÖÉÁ¥† */
            @keyframes twinkle {
                0%, 100% { opacity: 0.3; }
                50% { opacity: 1; }
            }
            
            .romantic-element {
                position: fixed;
                color: rgba(255,215,0,0.6);
                font-size: 16px;
                animation: twinkle 3s ease-in-out infinite;
                pointer-events: none;
                z-index: 1;
            }
        `;
        document.head.appendChild(style);
        
        // Ê∑ªÂä†Êõ¥Â§öÊµ™Êº´ÂÖÉÁ¥†
        function addRomanticElements() {
            const elements = ['‚ú®', 'üåü', 'üí´', '‚≠ê'];
            const positions = [
                {top: '10%', left: '5%'},
                {top: '15%', right: '8%'},
                {top: '25%', left: '3%'},
                {top: '35%', right: '5%'},
                {top: '45%', left: '2%'},
                {top: '55%', right: '7%'},
                {top: '65%', left: '4%'},
                {top: '75%', right: '3%'},
                {top: '85%', left: '6%'},
                {top: '90%', right: '4%'}
            ];
            
            positions.forEach((pos, index) => {
                setTimeout(() => {
                    const element = document.createElement('div');
                    element.className = 'romantic-element';
                    element.textContent = elements[Math.floor(Math.random() * elements.length)];
                    element.style.top = pos.top;
                    if (pos.left) element.style.left = pos.left;
                    if (pos.right) element.style.right = pos.right;
                    element.style.animationDelay = Math.random() * 2 + 's';
                    
                    document.body.appendChild(element);
                }, index * 200);
            });
        }
        
        // È°µÈù¢Âä†ËΩΩÂÆåÊàêÂêéÊ∑ªÂä†Êµ™Êº´ÂÖÉÁ¥†
        setTimeout(addRomanticElements, 5000);
    </script>
</body>
</html>