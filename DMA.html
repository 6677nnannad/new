<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WenYan</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Cinzel:wght@400;500&family=Poppins:wght@300;400;500&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            overflow-x: hidden;
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            position: relative;
            min-height: 100vh;
        }
        
        /* ËÉåÊôØËÆæÁΩÆ */
        .background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('https://s21.ax1x.com/2025/08/26/pVyoUud.jpg') center/cover no-repeat;
            z-index: -2;
        }
        
        .background::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.3);
            z-index: 1;
        }
        
        /* ÂøÉÂΩ¢ÁâπÊïàËÉåÊôØ */
        .hearts-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }
        
        .heart {
            position: absolute;
            font-size: 20px;
            color: rgba(255, 182, 193, 0.6);
            animation: float 6s infinite ease-in-out;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            10%, 90% { opacity: 1; }
            50% { transform: translateY(-10vh) rotate(180deg); }
        }
        
        /* Âä†ËΩΩÂä®Áîª */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: opacity 1s ease-out;
        }
        
        .loading-heart {
            font-size: 80px;
            color: #ff6b9d;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        
        /* ‰∏ªÂÆπÂô® */
        .main-container {
            opacity: 0;
            transition: opacity 1s ease-in;
            min-height: 100vh;
            position: relative;
            z-index: 1;
        }
        
        /* È°∂ÈÉ®Á∫¢ÂøÉ */
        .top-heart {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 30px;
            color: #ff6b9d;
            z-index: 100;
            animation: heartbeat 2s infinite;
        }
        
        @keyframes heartbeat {
            0%, 100% { transform: translateX(-50%) scale(1); }
            50% { transform: translateX(-50%) scale(1.1); }
        }
        
        /* Êó∂Èó¥ÊòæÁ§∫ */
        .time-display {
            position: fixed;
            top: 20px;
            left: 20px;
            color: rgba(255, 255, 255, 0.9);
            font-family: 'Cinzel', serif;
            font-size: 14px;
            font-weight: 500;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            z-index: 100;
        }
        
        /* Êó∂Èó¥‰∏ãÊñπÂõæÁâá */
        .time-image {
            position: fixed;
            top: 60px;
            left: 20px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            z-index: 100;
            transition: transform 0.3s ease;
        }
        
        .time-image:hover {
            transform: scale(1.1);
        }
        
        .time-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        /* ÂÆùËóèÊåâÈíÆ */
        .treasure-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(45deg, #ff6b9d, #c44569);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-family: 'Dancing Script', cursive;
            font-size: 16px;
            font-weight: 700;
            box-shadow: 0 4px 15px rgba(196, 69, 105, 0.4);
            transition: all 0.3s ease;
            z-index: 100;
        }
        
        .treasure-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(196, 69, 105, 0.6);
        }
        
        /* ÂºπÁ™óÊ†∑Âºè */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 200;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            max-width: 400px;
            width: 90%;
        }
        
        .modal-content h3 {
            color: #fff;
            margin-bottom: 20px;
            font-family: 'Dancing Script', cursive;
            font-size: 24px;
        }
        
        .modal-content input {
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 10px;
            margin-bottom: 15px;
            text-align: center;
            font-size: 16px;
        }
        
        .modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
        }
        
        .modal-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-family: 'Poppins', sans-serif;
            transition: all 0.3s ease;
        }
        
        .confirm-btn {
            background: #4CAF50;
            color: white;
        }
        
        .close-btn {
            background: #f44336;
            color: white;
        }
        
        /* Áõ∏ÂÜåÂÆπÂô® */
        .album-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            position: relative;
        }
        
        /* ÊñáÊ°àÂÆπÂô® */
        .quote-container {
            position: absolute;
            top: 15%;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            z-index: 50;
            width: 80%;
            max-width: 600px;
        }
        
        .quote-text {
            font-family: 'Cinzel', serif;
            font-size: clamp(18px, 3vw, 28px);
            color: rgba(255, 255, 255, 0.95);
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.7);
            margin-bottom: 10px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 1s ease;
            font-weight: 500;
            line-height: 1.4;
        }
        
        .quote-translation {
            font-family: 'Poppins', sans-serif;
            font-size: clamp(12px, 2vw, 16px);
            color: rgba(255, 255, 255, 0.8);
            text-shadow: 0 1px 5px rgba(0, 0, 0, 0.5);
            opacity: 0;
            transform: translateY(20px);
            transition: all 1s ease 0.3s;
        }
        
        .quote-text.show, .quote-translation.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Áõ∏ÂÜå‰∏ª‰Ωì */
        .album {
            position: relative;
            width: clamp(300px, 60vw, 500px);
            height: clamp(400px, 70vh, 600px);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .album-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: all 0.8s ease;
            filter: blur(0px);
        }
        
        .album-image.changing {
            filter: blur(10px);
            transform: scale(1.1);
        }
        
        /* ÊéßÂà∂ÊåâÈíÆ */
        .nav-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            transition: all 0.3s ease;
            z-index: 10;
        }
        
        .nav-button:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-50%) scale(1.1);
        }
        
        .nav-button.left {
            left: -80px;
        }
        
        .nav-button.right {
            right: -80px;
        }
        
        /* Â∫ïÈÉ®ÊñáÊ°àÂíåÈü≥‰πêÊéßÂà∂ */
        .bottom-left {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 100;
        }
        
        .bottom-quote {
            font-family: 'Dancing Script', cursive;
            font-size: 16px;
            color: #add8e6;
            margin-bottom: 15px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .music-control {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            transition: all 0.3s ease;
        }
        
        .music-control:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }
        
        .music-control:active {
            transform: scale(0.95);
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }
        
        /* ÈöèÊú∫Êµ™Êº´ÊñáÊ°à */
        .random-quote {
            position: fixed;
            font-family: 'Cinzel', serif;
            color: rgba(255, 255, 255, 0.8);
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
            font-size: clamp(14px, 2vw, 18px);
            opacity: 0;
            transform: translateY(20px);
            transition: all 1s ease;
            z-index: 20;
            max-width: 250px;
            line-height: 1.4;
        }
        
        .random-quote.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* ÂìçÂ∫îÂºèËÆæËÆ° */
        @media (max-width: 768px) {
            .nav-button {
                display: none;
            }
            
            .album {
                touch-action: pan-x;
            }
            
            .time-display {
                font-size: 12px;
            }
            
            .time-image {
                width: 50px;
                height: 50px;
            }
            
            .quote-container {
                top: 10%;
                width: 90%;
            }
        }
        
        @media (max-width: 480px) {
            .album {
                width: 90vw;
                height: 60vh;
            }
            
            .treasure-btn {
                font-size: 14px;
                padding: 6px 12px;
            }
        }
    </style>
</head>
<body>
    <!-- ËÉåÊôØ -->
    <div class="background"></div>
    
    <!-- ÂøÉÂΩ¢ÁâπÊïàÂÆπÂô® -->
    <div class="hearts-container" id="heartsContainer"></div>
    
    <!-- Âä†ËΩΩÂ±èÂπï -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-heart">üíñ</div>
    </div>
    
    <!-- ‰∏ªË¶ÅÂÜÖÂÆπ -->
    <div class="main-container" id="mainContainer">
        <!-- È°∂ÈÉ®Á∫¢ÂøÉ -->
        <div class="top-heart">‚ù§Ô∏è</div>
        
        <!-- Êó∂Èó¥ÊòæÁ§∫ -->
        <div class="time-display" id="timeDisplay"></div>
        
        <!-- Êó∂Èó¥‰∏ãÊñπÂõæÁâá -->
        <div class="time-image">
            <img src="https://pic.itxiaohui.top/20250827/b00b951e795e57ff62378a1f13310d77.png" alt="Ë£ÖÈ•∞ÂõæÁâá">
        </div>
        
        <!-- ÂÆùËóèÊåâÈíÆ -->
        <button class="treasure-btn" onclick="openTreasureModal()">ÂÆùËóè</button>
        
        <!-- Áõ∏ÂÜåÂÆπÂô® -->
        <div class="album-container">
            <!-- ÊñáÊ°àÂÆπÂô® -->
            <div class="quote-container">
                <div class="quote-text" id="quoteText"></div>
                <div class="quote-translation" id="quoteTranslation"></div>
            </div>
            
            <!-- Â∑¶‰æßÊéßÂà∂ÊåâÈíÆ -->
            <button class="nav-button left" onclick="previousImage()">‚Äπ</button>
            
            <!-- Áõ∏ÂÜå‰∏ª‰Ωì -->
            <div class="album">
                <img class="album-image" id="albumImage" src="https://s21.ax1x.com/2025/08/26/pVyoG9O.jpg" alt="Áõ∏ÂÜåÂõæÁâá">
            </div>
            
            <!-- Âè≥‰æßÊéßÂà∂ÊåâÈíÆ -->
            <button class="nav-button right" onclick="nextImage()">‚Ä∫</button>
        </div>
        
        <!-- Â∫ïÈÉ®Â∑¶‰æß -->
        <div class="bottom-left">
            <div class="bottom-quote">ÂøÉÊØîÈïøÁõ∏Â•ΩÔºåÊáÇÊØîÁà±ÈáçË¶Å</div>
            <button class="music-control" id="musicControl" onclick="toggleMusic()">üéµ</button>
        </div>
        
        <!-- ÈöèÊú∫Êµ™Êº´ÊñáÊ°à -->
        <div class="random-quote" id="randomQuote"></div>
    </div>
    
    <!-- ÂÆùËóèÂºπÁ™ó -->
    <div class="modal" id="treasureModal">
        <div class="modal-content">
            <h3>Á≠îÂØπÂØÜÁ†ÅÊúâÊÉäÂñú ‚ú®</h3>
            <input type="password" id="passwordInput" placeholder="ËØ∑ËæìÂÖ•ÂØÜÁ†Å">
            <div class="modal-buttons">
                <button class="modal-btn confirm-btn" onclick="checkPassword()">Á°ÆËÆ§</button>
                <button class="modal-btn close-btn" onclick="closeTreasureModal()">ÂÖ≥Èó≠</button>
            </div>
        </div>
    </div>
    
    <!-- Èü≥‰πê -->
    <audio id="backgroundMusic" loop>
        <source src="https://raw.githubusercontent.com/6677nnannad/my-wenb-music/refs/heads/main/haru%20haru.mp3" type="audio/mpeg">
    </audio>

    <script>
        // ÂõæÁâáÊï∞ÁªÑ
        const images = [
            'https://s21.ax1x.com/2025/08/26/pVyoG9O.jpg',
            'https://s21.ax1x.com/2025/08/26/pVyoT8U.jpg',
            'https://s21.ax1x.com/2025/08/26/pVyo72F.jpg',
            'https://s21.ax1x.com/2025/08/26/pVyoHv4.jpg',
            'https://s21.ax1x.com/2025/08/26/pVyoqKJ.jpg',
            'https://s21.ax1x.com/2025/08/26/pVyoLr9.jpg',
            'https://s21.ax1x.com/2025/08/26/pVyoObR.jpg',
            'https://pic.itxiaohui.top/20250826/7d87ea90f93391070a74c60562e37d24.jpg',
            'https://pic.itxiaohui.top/20250826/75ab2fbb9b0c32d304a2048d755313f0.jpg',
            'https://pic.itxiaohui.top/20250826/1ac4f123d972adbc6397892176d7f955.jpg',
            'https://pic.itxiaohui.top/20250826/cd61b4b4712ef9afb3ae71965b3e7cb0.jpg',
            'https://pic.itxiaohui.top/20250826/b5cee1a7f10b1503dc5b7ec7c158fa2c.jpg',
            'https://pic.itxiaohui.top/20250826/b8940c81fe3d6b2500926609e98d4a70.jpg',
            'https://pic.itxiaohui.top/20250826/b049ffdfe00f7cf4c5db9bc5e260a194.jpg',
            'https://pic.itxiaohui.top/20250826/bd37208fdad5f3e800eed2017e767a78.jpg',
            'https://pic.itxiaohui.top/20250826/dd289be3bff468a132d153e4732f8a06.jpg'
        ];
        
        // ÊñáÊ°àÊï∞ÁªÑ
        const quotes = [
            {text: "The heart wants what it wants", translation: "ÂøÉ‰πãÊâÄÂêëÔºåÊó†ÊâÄ‰∏çËÉΩ", lang: "en"},
            {text: "ÏÇ¨ÎûëÏùÄ Ïñ∏Ï†úÎÇò ÏïÑÎ¶ÑÎã§Ïõå", translation: "Áà±ÊÉÖÊ∞∏ËøúÁæé‰∏Ω", lang: "ko"},
            {text: "Âêõ„ÇíÊÑõ„Åó„Å¶„Çã", translation: "ÊàëÁà±‰Ω†", lang: "jp"},
            {text: "In the depth of silence, love speaks", translation: "Âú®ÂØÇÈùôÊ∑±Â§ÑÔºåÁà±Âú®ËØâËØ¥", lang: "en"},
            {text: "ÎßàÏùåÏù¥ ÏïÑÌååÎèÑ ÏÇ¨ÎûëÌï¥", translation: "Âç≥‰ΩøÂøÉÁóõ‰πüË¶ÅÁà±", lang: "ko"},
            {text: "ÊÅã„ÅØÁõ≤ÁõÆ", translation: "Áà±ÊÉÖÊòØÁõ≤ÁõÆÁöÑ", lang: "jp"},
            {text: "Love is the poetry of the senses", translation: "Áà±ÊÉÖÊòØÊÑüÂÆòÁöÑËØóÊ≠å", lang: "en"},
            {text: "Í∑∏Î¶¨ÏõÄÏù¥ ÏÇ¨ÎûëÎ≥¥Îã§ ÍπäÏñ¥", translation: "ÊÄùÂøµÊØîÁà±ÊÉÖÊõ¥Ê∑±", lang: "ko"},
            {text: "Âàá„Å™„ÅÑÊÉ≥„ÅÑ", translation: "ÁóõËã¶ÁöÑÊÄùÂøµ", lang: "jp"},
            {text: "Sometimes the heart sees what is invisible to the eye", translation: "ÊúâÊó∂ÂøÉËÉΩÁúãËßÅÁúºÁùõÁúã‰∏çËßÅÁöÑ‰∏úË•ø", lang: "en"},
            {text: "ÏÇ¨ÎûëÏùÄ ÏÉÅÏ≤òÎèÑ ÏïÑÎ¶ÑÎãµÍ≤å ÎßåÎì§Ïñ¥", translation: "Áà±ËÆ©‰º§Áóõ‰πüÂèòÂæóÁæé‰∏Ω", lang: "ko"},
            {text: "ÊÑõ„ÅØÊôÇ„ÇíË∂Ö„Åà„Çã", translation: "Áà±ËÉΩË∑®Ë∂äÊó∂Èó¥", lang: "jp"}
        ];
        
        // ÈöèÊú∫Êµ™Êº´ÊñáÊ°à
        const randomQuotes = [
            "Love is not about possession, it's about appreciation",
            "ÏÇ¨ÎûëÏùÄ ÏÜåÏú†Í∞Ä ÏïÑÎãàÎùº Í∞êÏÇ¨ÌïòÎäî Í≤É",
            "ÊÑõ„Å®„ÅØÊâÄÊúâ„Åô„Çã„Åì„Å®„Åß„ÅØ„Å™„Åè„ÄÅÊÑüË¨ù„Åô„Çã„Åì„Å®",
            "Every sunset brings the promise of a new dawn",
            "Î™®Îì† ÏùºÎ™∞ÏùÄ ÏÉàÎ°úÏö¥ ÏÉàÎ≤ΩÏùò ÏïΩÏÜçÏùÑ Í∞ÄÏ†∏Ïò®Îã§",
            "„Åô„Åπ„Å¶„ÅÆÂ§ïÊó•„ÅØÊñ∞„Åó„ÅÑÂ§úÊòé„Åë„ÅÆÁ¥ÑÊùü„Çí„ÇÇ„Åü„Çâ„Åô",
            "In your smile, I found my home",
            "ÎãπÏã†Ïùò ÎØ∏ÏÜåÏóêÏÑú ÎÇòÎäî ÎÇòÏùò ÏßëÏùÑ Ï∞æÏïòÎã§",
            "Âêõ„ÅÆÁ¨ëÈ°î„Å´ÂÉï„ÅÆÂÆ∂„ÇíË¶ã„Å§„Åë„Åü",
            "Distance means nothing when someone means everything",
            "Í±∞Î¶¨Îäî ÎàÑÍµ∞Í∞ÄÍ∞Ä Î™®Îì† Í≤ÉÏùÑ ÏùòÎØ∏Ìï† Îïå ÏïÑÎ¨¥Í≤ÉÎèÑ ÏïÑÎãàÎã§",
            "Ë∑ùÈõ¢„ÅØË™∞„Åã„Åå„Åô„Åπ„Å¶„ÇíÊÑèÂë≥„Åô„Çã„Å®„Åç‰Ωï„ÇÇÊÑèÂë≥„Åó„Å™„ÅÑ"
        ];
        
        let currentImageIndex = 0;
        let currentQuoteIndex = 0;
        let usedQuotes = new Set();
        let usedRandomQuotes = new Set();
        let isPlaying = false;
        let autoSlideTimer;
        let quoteTimer;
        let randomQuoteTimer;
        let touchStartX = 0;
        let touchEndX = 0;
        
        // ÂàùÂßãÂåñ
        window.addEventListener('load', function() {
            setTimeout(function() {
                document.getElementById('loadingScreen').style.opacity = '0';
                setTimeout(function() {
                    document.getElementById('loadingScreen').style.display = 'none';
                    document.getElementById('mainContainer').style.opacity = '1';
                    startMusic();
                    startAutoSlide();
                    startQuoteRotation();
                    startRandomQuotes();
                }, 1000);
            }, 3000);
            
            createHearts();
            updateTime();
            setInterval(updateTime, 1000);
            setupTouchEvents();
        });
        
        // ÂàõÂª∫ÂøÉÂΩ¢ÁâπÊïà
        function createHearts() {
            const container = document.getElementById('heartsContainer');
            const heartSymbols = ['‚ô°', '‚ô•', 'üíï', 'üíñ', 'üíó', 'üíù'];
            
            setInterval(() => {
                const heart = document.createElement('div');
                heart.className = 'heart';
                heart.textContent = heartSymbols[Math.floor(Math.random() * heartSymbols.length)];
                heart.style.left = Math.random() * 100 + '%';
                heart.style.animationDelay = Math.random() * 2 + 's';
                heart.style.animationDuration = (Math.random() * 3 + 4) + 's';
                heart.style.fontSize = (Math.random() * 15 + 15) + 'px';
                
                container.appendChild(heart);
                
                setTimeout(() => {
                    heart.remove();
                }, 6000);
            }, 800);
        }
        
        // Êõ¥Êñ∞Êó∂Èó¥
        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleString('zh-CN', {
                timeZone: 'Asia/Shanghai',
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                hour12: false
            });
            document.getElementById('timeDisplay').textContent = timeString;
        }
        
        // ÂºÄÂßãÈü≥‰πêÊí≠Êîæ
        function startMusic() {
            const music = document.getElementById('backgroundMusic');
            music.play().then(() => {
                isPlaying = true;
            }).catch(e => {
                console.log('Èü≥‰πêËá™Âä®Êí≠ÊîæÂ§±Ë¥•ÔºåÈúÄË¶ÅÁî®Êà∑‰∫§‰∫í');
            });
        }
        
        // ÂàáÊç¢Èü≥‰πê
        function toggleMusic() {
            const music = document.getElementById('backgroundMusic');
            const control = document.getElementById('musicControl');
            
            if (isPlaying) {
                music.pause();
                isPlaying = false;
            } else {
                music.play();
                isPlaying = true;
            }
            
            // ÁÇπÂáªÂèçÈ¶àÁâπÊïà
            control.style.boxShadow = '0 0 20px rgba(255, 255, 255, 0.8)';
            setTimeout(() => {
                control.style.boxShadow = '';
            }, 300);
        }
        
        // ÂàáÊç¢ÂõæÁâá
        function changeImage(direction = 1) {
            const albumImage = document.getElementById('albumImage');
            
            albumImage.classList.add('changing');
            
            setTimeout(() => {
                currentImageIndex = (currentImageIndex + direction + images.length) % images.length;
                albumImage.src = images[currentImageIndex];
                
                setTimeout(() => {
                    albumImage.classList.remove('changing');
                }, 100);
            }, 400);
            
            updateQuote();
        }
        
        function nextImage() {
            changeImage(1);
        }
        
        function previousImage() {
            changeImage(-1);
        }
        
        // Ëá™Âä®ÂàáÊç¢
        function startAutoSlide() {
            autoSlideTimer = setInterval(nextImage, 4000);
        }
        
        // Êõ¥Êñ∞ÊñáÊ°à
        function updateQuote() {
            const quoteText = document.getElementById('quoteText');
            const quoteTranslation = document.getElementById('quoteTranslation');
            
            quoteText.classList.remove('show');
            quoteTranslation.classList.remove('show');
            
            setTimeout(() => {
                // ÈÄâÊã©Êú™‰ΩøÁî®ÁöÑÊñáÊ°à
                let availableQuotes = quotes.filter((_, index) => !usedQuotes.has(index));
                if (availableQuotes.length === 0) {
                    usedQuotes.clear();
                    availableQuotes = quotes;
                }
                
                const randomQuote = availableQuotes[Math.floor(Math.random() * availableQuotes.length)];
                const quoteIndex = quotes.indexOf(randomQuote);
                usedQuotes.add(quoteIndex);
                
                quoteText.textContent = randomQuote.text;
                quoteTranslation.textContent = randomQuote.translation;
                
                setTimeout(() => {
                    quoteText.classList.add('show');
                    quoteTranslation.classList.add('show');
                }, 100);
            }, 500);
        }
        
        // ÂºÄÂßãÊñáÊ°àËΩÆÊç¢
        function startQuoteRotation() {
            updateQuote();
            quoteTimer = setInterval(updateQuote, 4000);
        }
        
        // ÈöèÊú∫Êµ™Êº´ÊñáÊ°à
        function showRandomQuote() {
            const randomQuoteEl = document.getElementById('randomQuote');
            
            // ÈöêËóèÂΩìÂâçÊñáÊ°à
            randomQuoteEl.classList.remove('show');
            
            setTimeout(() => {
                // ÈÄâÊã©Êú™‰ΩøÁî®ÁöÑÈöèÊú∫ÊñáÊ°à
                let availableQuotes = randomQuotes.filter((_, index) => !usedRandomQuotes.has(index));
                if (availableQuotes.length === 0) {
                    usedRandomQuotes.clear();
                    availableQuotes = randomQuotes;
                }
                
                const quote = availableQuotes[Math.floor(Math.random() * availableQuotes.length)];
                const quoteIndex = randomQuotes.indexOf(quote);
                usedRandomQuotes.add(quoteIndex);
                
                randomQuoteEl.textContent = quote;
                
                // ÈöèÊú∫‰ΩçÁΩÆ
                const positions = [
                    { top: '25%', left: '85%' },
                    { top: '75%', right: '10%' },
                    { top: '40%', left: '10%' },
                    { top: '60%', right: '85%' },
                    { top: '30%', right: '25%' },
                    { top: '70%', left: '25%' }
                ];
                
                const position = positions[Math.floor(Math.random() * positions.length)];
                
                // ÈáçÁΩÆÊâÄÊúâ‰ΩçÁΩÆÊ†∑Âºè
                randomQuoteEl.style.top = '';
                randomQuoteEl.style.left = '';
                randomQuoteEl.style.right = '';
                randomQuoteEl.style.bottom = '';
                
                // Â∫îÁî®Êñ∞‰ΩçÁΩÆ
                Object.keys(position).forEach(key => {
                    randomQuoteEl.style[key] = position[key];
                });
                
                setTimeout(() => {
                    randomQuoteEl.classList.add('show');
                    
                    // 4ÁßíÂêéÈöêËóè
                    setTimeout(() => {
                        randomQuoteEl.classList.remove('show');
                    }, 4000);
                }, 100);
            }, 1000);
        }
        
        // ÂºÄÂßãÈöèÊú∫ÊñáÊ°à
        function startRandomQuotes() {
            setTimeout(showRandomQuote, 2000);
            randomQuoteTimer = setInterval(showRandomQuote, 8000);
        }
        
        // Ëß¶Êë∏‰∫ã‰ª∂
        function setupTouchEvents() {
            const album = document.querySelector('.album');
            
            album.addEventListener('touchstart', (e) => {
                touchStartX = e.changedTouches[0].screenX;
            });
            
            album.addEventListener('touchend', (e) => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            });
        }
        
        function handleSwipe() {
            const swipeThreshold = 50;
            const diff = touchStartX - touchEndX;
            
            if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0) {
                    nextImage();
                } else {
                    previousImage();
                }
            }
        }
        
        // ÂÆùËóèÂºπÁ™ó
        function openTreasureModal() {
            document.getElementById('treasureModal').style.display = 'flex';
            document.getElementById('passwordInput').focus();
        }
        
        function closeTreasureModal() {
            document.getElementById('treasureModal').style.display = 'none';
            document.getElementById('passwordInput').value = '';
        }
        
        function checkPassword() {
            const password = document.getElementById('passwordInput').value;
            if (password === '0809') {
                closeTreasureModal();
                openTreasureVideo();
            } else {
                alert('ÂØÜÁ†ÅÈîôËØØÔºåËØ∑ÈáçËØïÔºÅ');
                document.getElementById('passwordInput').value = '';
            }
        }
        
        function openTreasureVideo() {
            // ÂàõÂª∫ËßÜÈ¢ëÂºπÁ™ó
            const videoModal = document.createElement('div');
            videoModal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.9);
                z-index: 300;
                display: flex;
                justify-content: center;
                align-items: center;
                flex-direction: column;
            `;
            
            const video = document.createElement('video');
            video.src = 'https://raw.githubusercontent.com/6677nnannad/my-wenb-music/refs/heads/main/%E4%BD%A0%E8%A2%AB%E9%AA%97%E4%BA%86%20%E5%8E%9F%E7%89%88%E9%AB%98%E6%B8%85%E6%97%A0%E6%B0%B4%E5%8D%B0.mp4';
            video.controls = true;
            video.style.cssText = `
                max-width: 90%;
                max-height: 80%;
                border-radius: 10px;
            `;
            
            const closeBtn = document.createElement('button');
            closeBtn.textContent = 'ÂÖ≥Èó≠';
            closeBtn.style.cssText = `
                margin-top: 20px;
                padding: 10px 30px;
                background: #ff6b9d;
                color: white;
                border: none;
                border-radius: 25px;
                font-size: 16px;
                cursor: pointer;
                font-family: 'Poppins', sans-serif;
            `;
            
            closeBtn.onclick = () => {
                document.body.removeChild(videoModal);
            };
            
            videoModal.appendChild(video);
            videoModal.appendChild(closeBtn);
            document.body.appendChild(videoModal);
            
            video.play().catch(e => console.log('ËßÜÈ¢ëÊí≠ÊîæÂ§±Ë¥•'));
        }
        
        // ÈîÆÁõò‰∫ã‰ª∂
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') {
                nextImage();
            } else if (e.key === 'ArrowLeft') {
                previousImage();
            } else if (e.key === ' ') {
                e.preventDefault();
                toggleMusic();
            }
        });
        
        // ÂØÜÁ†ÅËæìÂÖ•Ê°ÜÂõûËΩ¶‰∫ã‰ª∂
        document.getElementById('passwordInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                checkPassword();
            }
        });
        
        // Èò≤Ê≠¢È°µÈù¢Âà∑Êñ∞Êó∂Èü≥‰πê‰∏≠Êñ≠
        window.addEventListener('beforeunload', () => {
            clearInterval(autoSlideTimer);
            clearInterval(quoteTimer);
            clearInterval(randomQuoteTimer);
        });
        
        // È°µÈù¢ÂèØËßÅÊÄßÂèòÂåñÊó∂ÁöÑÂ§ÑÁêÜ
        document.addEventListener('visibilitychange', () => {
            const music = document.getElementById('backgroundMusic');
            if (document.hidden) {
                if (isPlaying) {
                    music.pause();
                }
            } else {
                if (isPlaying) {
                    music.play().catch(e => console.log('Èü≥‰πêÊÅ¢Â§çÊí≠ÊîæÂ§±Ë¥•'));
                }
            }
        });
    </script>
</body>
</html>